@model Clinic2.Models.Consultation

@{
    ViewBag.Title = "Modifier consultation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Modifier consultation</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal container">
        @*<h4>Consultation</h4>*@
        <div class="panel-group">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.ID_Consultation)
            @Html.HiddenFor(model => model.createBy)
            @Html.HiddenFor(model => model.creatieDate)
            <div class="row">
                <div class="col-sm-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <span class="glyphicon glyphicon-user"></span>
                            <span>Patient</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(model => model.Patient.nom, "Nom", htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Patient.nom, new { htmlAttributes = new { @class = "form-control", disabled = "disabled", @readonly = "readonly" } })
                                    @Html.ValidationMessageFor(model => model.Patient.nom, "", new { @class = "text-danger" })
                                </div>
                                @Html.LabelFor(model => model.Patient.prenom, "Prénom", htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Patient.prenom, new { htmlAttributes = new { @class = "form-control", disabled = "disabled", @readonly = "readonly" } })
                                    @Html.ValidationMessageFor(model => model.Patient.prenom, "", new { @class = "text-danger" })
                                </div>
                                @Html.LabelFor(model => model.ID_Patient, "Numéro patient", htmlAttributes: new { @class = "control-label col-md-2", @value = ViewBag.ID_Patient })
                                <div class="col-md-10">
                                    @Html.HiddenFor(model => model.ID_Patient)
                                    @Html.EditorFor(model => model.ID_Patient, new { htmlAttributes = new { @class = "form-control", disabled = "disabled", @readonly = "readonly" } })
                                    @Html.ValidationMessageFor(model => model.ID_Patient, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <span class="glyphicon glyphicon-user"></span>
                            <span>Staff</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.Label("Nom", htmlAttributes: new { @class = "control-label col-md-2" })
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Staff.prenom, new { htmlAttributes = new { @class = "form-control", disabled = "disabled", @readonly = "readonly" } })
                                    @Html.ValidationMessage("Nom du staff", "", new { @class = "text-danger" })
                                </div>

                                @Html.LabelFor(model => model.ID_Staff, "Numéro patient", htmlAttributes: new { @class = "control-label col-md-2", @value = ViewBag.ID_Staff })
                                <div class="col-md-10">
                                    @Html.HiddenFor(model => model.ID_Staff)
                                    @Html.EditorFor(model => model.ID_Staff, new { htmlAttributes = new { @class = "form-control", disabled = "disabled", @readonly = "readonly" } })
                                    @Html.ValidationMessageFor(model => model.ID_Staff, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <br /><p></p>
                        </div>
                    </div>
                </div>
            </div>
            <p></p>

            <div class="panel panel-success">
                <div class="panel-heading">Consultation</div>
                <div class="panel-body">
                    @if (User.IsInRole("medecin"))
                    {
                        <div class="form-group">
                            @Html.LabelFor(model => model.motif, "Motif", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.motif, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.motif, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.motif, "", new { @class = "text-danger" })
                            </div>
                            @Html.LabelFor(model => model.note, "Note", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.note, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.note, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.note, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.poids, "Poids", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @Html.EditorFor(model => model.poids, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.poids, "", new { @class = "text-danger" })
                            </div>
                            @Html.LabelFor(model => model.taille, "Taille", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @Html.EditorFor(model => model.taille, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.taille, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.temperature, "Température", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-2">
                                @Html.EditorFor(model => model.temperature, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.temperature, "", new { @class = "text-danger" })
                            </div>
                            @Html.LabelFor(model => model.systol, "Systol", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-2">
                                @Html.EditorFor(model => model.systol, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.systol, "", new { @class = "text-danger" })
                            </div>
                            @Html.LabelFor(model => model.diastol, "Diastol", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-2">
                                @Html.EditorFor(model => model.diastol, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.diastol, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.maladie, "Maladie", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.maladie, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.maladie, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.diagnostique, "Diagnostique", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.diagnostique, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.diagnostique, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.diagnostique, "", new { @class = "text-danger" })
                            </div>
                            @Html.LabelFor(model => model.antecedent, "Antécédent", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.antecedent, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.antecedent, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.antecedent, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.statut, "Statut", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                <div class="checkbox">
                                    @Html.EditorFor(model => model.statut)
                                    @Html.ValidationMessageFor(model => model.statut, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-warning">
                            <div class="panel-heading">Ordonnance</div>
                            <div class="panel-body">
                                <div class="form-group">
                                    @Html.Label("Prescription", htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-4">
                                        @Html.TextAreaFor(model => model.ordonnance.prescription, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 4 })
                                        @*@Html.Editor("prescription", new { @class = "control-label col-md-2" })*@
                                    </div>
                                    @Html.Label("Medicament", htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-4">
                                        @Html.TextAreaFor(model => model.ordonnance.medicament, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 4 })
                                        @*@Html.Editor("medicament", new { @class = "control-label col-md-2" })*@
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="panel panel-warning">
                            <div class="panel-heading">Vaccin</div>
                            <div class="panel-body">
                                <div class="form-group">
                                    @Html.Label("Nom du vaccin", htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.TextAreaFor(model => model.vaccin.description, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 4 })
                                        @*@Html.Editor("vac", new { @class = "control-label col-md-2" })*@
                                    </div>
                                </div>
                            </div>
                        </div>


                    }
                    else
                    {
                        <div class="form-group">
                            @Html.LabelFor(model => model.motif, "Motif", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.motif, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.motif, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.motif, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.note, "Note", htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-4">
                                @*@Html.EditorFor(model => model.note, new { htmlAttributes = new { @class = "form-control" } })*@
                                @Html.TextAreaFor(model => model.note, htmlAttributes: new { @class = "form-control", @cols = 3000, @rows = 8 })
                                @Html.ValidationMessageFor(model => model.note, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>


        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="changer" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Retour à la liste des consultation", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Scripts/autosize.js"></script>
}
<script>
    window.onload = function () {
        autosize(document.getElementById("note"));
        autosize(document.getElementById("diagnostique"));
        autosize(document.getElementById("antecedent"));
        autosize(document.getElementById("motif"));
        autosize(document.getElementById("prescription"));
        autosize(document.getElementById("medicament"));
        autosize(document.getElementById("vac"));
    };
</script>